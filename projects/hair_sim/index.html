<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Hair Simulation | George Geng </title> <meta name="author" content="George Geng"> <meta name="description" content="Human hair simulation for Houdini using a Vellum solver."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?98ab68992a4209ac66024f789453914e"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jorjboi.github.io/projects/hair_sim/"> <script src="/assets/js/theme.js?55d5d4529bf41e3d82d02583f9ba3ba0"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">George</span> Geng </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/art/">art </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Hair Simulation</h1> <p class="post-description">Human hair simulation for Houdini using a Vellum solver.</p> </header> <article> <ul> <li><a href="#overview">Overview</a></li> <li><a href="#results">Results</a></li> </ul> <h2 id="overview">Overview</h2> <p>In this project, I set out to groom and simulate two distinct hairstyles using Vellum tools. Different hair styles require different approaches to simulation, and getting believable hair behavior is tricky!</p> <h2 id="sleek-and-wavy-hair">Sleek and Wavy Hair</h2> <p>I create my guides for Vellum simulation using a <code class="language-plaintext highlighter-rouge">Guide Groom</code> node to plant and sculpt some initial guides, and then <code class="language-plaintext highlighter-rouge">Hair Generate</code> and <code class="language-plaintext highlighter-rouge">Hair Clump</code> nodes to generate more guides and get them roughly into the shape of the desired hair.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/sleek1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Wavy Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Hair guides </div> <p>To allow for variation and more realistic motion, I assigned different Vellum constraints based on the hair layer. Some of the guides taken from the top of the head (to be used for slightly more “frizzy” hairs later on) have a moderate amount of stretch and bend stiffness.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/sleek2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Wavy Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> First set of hair constraints </div> <p>The rest of the guides on the bottom layer have a higher stretch stiffness, ensuring that most of the hair shape will not change.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/sleek3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Wavy Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Second set of hair constraints (stiffer) </div> <p>In order to keep the hair from separating into individual stray strands and losing its overall volume during the head turn, I apply glue constraints between the stiffer guides to keep them closer together. However, I leave the very ends of the guides unconstrainted (the last 12 vertices or so) in order to have more freedom on the ends. The ends should have more freedom to separate and change shape.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/sleek4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Wavy Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Glue constraint between hairs </div> <p>From there, I can simulate the guides and use them to generate more hair, create some length and frizz variation on different hairs for realism, and clean them up with a final <code class="language-plaintext highlighter-rouge">Guide Collide VDB</code>. The rendered results are below.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/wavy_hair.gif" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Wavy Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Wavy sleek hair </div> <h2 id="afro-hair">Afro Hair</h2> <p>The afro hair style presented several challenges, most of which had to do with using different ways to maintain its shape and volume. Unlike the sleek and wavy hair style, its motion is more limited.</p> <p>Like the first hairstyle, I first create guides with the overall shape of the hair using <code class="language-plaintext highlighter-rouge">Hair Generate</code> and <code class="language-plaintext highlighter-rouge">Hair Clump</code> nodes.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/afro1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Afro Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Hair guides </div> <p>Once I have my guides, I use use hair constraint to set the stifftness of the hair. I keep the stretch stiffness high, but found that playing with the bend stiffness of these guides gave interesting results. I settled on a value much larger than the bend stiffness of the sleek and wavy hair, since this is a shorter hair style with coarser hair.</p> <p>I also use a “permanent” orientation pin type for <code class="language-plaintext highlighter-rouge">Pin to Animation</code> vs. a “soft” one, so that the hair remains more pinned the way it’s groomed.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/afro2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Afro Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>I also use a glue constraint between hairs to help the hair hold its volume:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/afro3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Afro Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Glue constraint </div> <p>Unlike the sleek and wave hair style, I found that an additional <code class="language-plaintext highlighter-rouge">Attach to Geometry</code> constraint here is useful. The hair can’t get too close or far from the head here, unlike the sleek and wavy hair style where the hair has more freedom of movement.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/afro4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Afro Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Attach to head geometry </div> <p>From there, I can simulate the guides and use them in another <code class="language-plaintext highlighter-rouge">Hair Generate</code> and <code class="language-plaintext highlighter-rouge">Hair Clump</code> node to create the afro hair below.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" sizes="95vw"></source> <img src="/assets/img/hair_sim/afro_hair.gif" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Afro Hair" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Afro hair </div> <p>Now that I’ve gotten these results, I’m excited to see what else can be achieved with Vellum!</p> <h2 id="resources">Resources</h2> <p><a href="https://www.deniszen.com/groomingtut" rel="external nofollow noopener" target="_blank">Denis Zen’s Grooming Tutorial</a> <a href="https://www.youtube.com/watch?v=4Ayo3SR3Iow" rel="external nofollow noopener" target="_blank">Andriy Bilichenko Grooming Demo</a></p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?70d799092f862ad98c7876aa47712e20"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>